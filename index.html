<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JMP/LIMS Data Extraction Tool (JET)</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #fdfdfd; }
    header { background: #007c89; color: white; padding: 15px; text-align: center; }
    header h1 { margin: 0; font-size: 22px; }
    .container { padding: 20px; display: grid; grid-template-columns: 1fr; gap: 20px; }
    .section { border: 1px solid #ccc; border-radius: 8px; padding: 15px; background: #fff; }
    .section h3 { margin-top: 0; color: #007c89; }
    .flex-row { display: flex; gap: 20px; flex-wrap: nowrap; }
    label { margin-right: 10px; }
    input[type="date"], button, select { margin: 5px 0; padding: 5px; }
    .scroll-box { border: 1px solid #ccc; height: 150px; overflow-y: scroll; padding: 5px; font-size: 14px; }
    .small-btn { margin: 3px; padding: 4px 8px; font-size: 12px; }
    .block { flex: 1; min-width: 200px; }
    .system-info { padding: 10px; font-size: 12px; width: 320px; }
  </style>
</head>
<body>
<header>
  <h1>JMP/LIMS Data Extraction Tool (JET)</h1>
</header>

<div class="container">

  <div class="flex-row">
    <div class="section flex-row">
      <div class="block">
        <h3>Data Type</h3>
        <label><input type="radio" name="datatype"> Data Type 1</label><br>
        <label><input type="radio" name="datatype"> Data Type 2</label>
      </div>
      <div class="block">
        <h3>Reference Type</h3>
        <label><input type="radio" name="reftype"> Date 1</label><br>
        <label><input type="radio" name="reftype"> Date 2</label>
      </div>
      <div class="block">
        <h3>Reference Period</h3>
        <label>Start Date: <input type="date"></label><br>
        <label>End Date: <input type="date"></label>
      </div>
    </div>

    <div class="section flex-row">
      <div class="block">
        <h3>Stacked Output</h3>
        <label><input type="radio" name="stacked"> Output Type 1</label><br>
        <label><input type="radio" name="stacked"> Output Type 2</label><br>
        <button id="btn-stacked">Create Table</button>
      </div>
      <div class="block">
        <h3>Split Output</h3>
        <p style="font-size: 12px;">Numeric final values only</p>
        <button id="btn-split">Create Table</button>
      </div>
    </div>

    <div class="section flex-row">
      <div class="system-info">
        <h3 style="color: #555">GMP Regulated - Version XX 20Dec2099</h3>
        <h3 style="color: #555">User: UserCode</h3>
        <h3 style="color: #555">Environment: Env</h3>
        <h3 style="color: #555">Source Data Updated as of 20Dec2099</h3>
      </div>
    </div>
  </div>

  <div class="section flex-row">
    <div class="block">
      <h3>Select Facility</h3>
      <button class="small-btn">Select All</button>
      <button class="small-btn">Deselect All</button>
      <div class="scroll-box">
        <label><input type="checkbox"> 1234 - Facility 1</label><br>
        <label><input type="checkbox"> 5678 - Facility 2</label><br>
        <label><input type="checkbox"> 1357 - Facility 3</label><br>
        <label><input type="checkbox"> 2468 - Facility 4</label><br>
        
      </div>
    </div>

    <div class="block">
      <h3>Select Material</h3>
      <button class="small-btn">Select All</button>
      <button class="small-btn">Deselect All</button>
      <div class="scroll-box">
        <label><input type="checkbox"> ABCD - Material 1</label><br>
        <label><input type="checkbox"> EFGH - Material 2</label><br>
        <label><input type="checkbox"> ILMN - Material 3</label><br>
        <label><input type="checkbox"> OPQR - Material 4</label><br>
      </div>
    </div>

    <div class="block">
      <h3>Select Material Details</h3>
      <button class="small-btn">Select All</button>
      <button class="small-btn">Deselect All</button>
      <div class="scroll-box">
        <label><input type="checkbox"> ABCD123 - Material Details 1</label><br>
        <label><input type="checkbox"> EFGH456 - Material Details 2</label><br>
        <label><input type="checkbox"> ILMN789 - Material Details 3</label><br>
        <label><input type="checkbox"> OPQR012 - Material Details 4</label><br>
      </div>
    </div>
  </div>

  <div class="section flex-row">
    <div class="block">
      <h3>Select Property</h3>
      <button class="small-btn">Select All</button>
      <button class="small-btn">Deselect All</button>
      <div class="scroll-box">
        <label><input type="checkbox"> Property 1</label><br>
        <label><input type="checkbox"> Property 2</label><br>
        <label><input type="checkbox"> Property 3</label><br>
        <label><input type="checkbox"> Property 4</label><br>
        <label><input type="checkbox"> Property 5</label><br>
        
      </div>
    </div>

    <div class="block">
      <h3>Select Status</h3>
      <button class="small-btn">Select All</button>
      <button class="small-btn">Deselect All</button><br><br>
      <label><input type="checkbox"> Status 1</label><br>
      <label><input type="checkbox"> Status 2</label><br>
      <label><input type="checkbox"> Status 3</label><br>
      <label><input type="checkbox"> Status 4</label><br>
    </div>
  </div>
</div>

<script>
  const dummyCSV = `Manufacturing Site,Material Number,Material Description,Batch ID,Manufacturing Date,Test Performed Date,Property Name,UOM,Storage Condition,Study Timepoint
"1234 - Facility 1",ABCD,ABCD123 - Material Details 1,B1234,22-Mar-10,31-Mar-10,Prop A,UOM 1,SC 12,0 Months
"1234 - Facility 1",ABCD,ABCD123 - Material Details 1,B1234,22-Mar-10,4-Nov-10,Prop A,UOM 2,SC 12,6 Months
"1234 - Facility 1",ABCD,ABCD123 - Material Details 1,B1234,22-Mar-10,27-Oct-10,Prop A,UOM 3,SC 12,6 Months
"1234 - Facility 1",ABCD,ABCD123 - Material Details 1,B1234,22-Mar-10,27-Apr-11,Prop A,UOM 4,SC 12,12 Months
"1234 - Facility 1",ABCD,ABCD123 - Material Details 1,B1234,22-Mar-10,20-Apr-11,Prop A,UOM 5,SC 12,12 Months
"1234 - Facility 1",ABCD,ABCD123 - Material Details 1,B1234,22-Mar-10,17-Oct-11,Prop A,UOM 6,SC 12,18 Months
"1234 - Facility 1",ABCD,ABCD123 - Material Details 1,B1234,22-Mar-10,25-Oct-11,Prop A,UOM 7,SC 12,18 Months`;

  function downloadCSV() {
    const blob = new Blob([dummyCSV], { type: 'text/csv' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'JET_output.csv';
    document.body.appendChild(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(url);
  }
  function downloadCSVcopy() {
    const blob = new Blob([dummyCSV], { type: 'text/csv' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'JET_output_copy.jmp';
    document.body.appendChild(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(url);
  }

  document.getElementById('btn-stacked').addEventListener('click', downloadCSV);
  document.getElementById('btn-split').addEventListener('click', downloadCSVcopy);
</script>

</body>
</html>
